@model SCG.ARS.BOI.WEB.ViewModels.UploadViewModel
@{
    ViewData["Title"] = "";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .table-condensed{
        width: 100%;
    }
    .table > tbody > tr > td {
        vertical-align: middle;
    }
    input {
        vertical-align: middle;
    }
    .datepicker{
        width: 340px;
        height: 250px;
    }
</style>

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
    Import Bank Statement
    <small>Import Bank Statement panel</small>
    </h1>
    @* <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Import</li>
    </ol> *@
</section>

<!-- Main content -->
<section class="content container-fluid">

    <div class="row">
        <div class="col-sm-4">

            

        </div>
        <!-- middle col -->
        <div class="col-sm-4">
                <div id="dtPickerUpload" class="form-group input-group date">
                    <input type="text" class="form-control" data-inputmask="'alias': 'M - yyyy'" data-mask>
                    <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                    </div>
                </div>
                <div class="form-group">
                    @* @Html.DropDownListFor(x => Model.BankCodeList, new SelectList(Model.BankCodeList, "DataValueKey", "DataDisplay"), htmlAttributes: new { @class = "form-control select2", id = "bankCode"}) *@
                    @* <select id="bankCode" class="form-control select2" style="width: 100%;">
                    <option selected="selected" value="BBL">Bangkok Bank</option>
                    <option value="KBANK">Kasikorn Bank</option>
                    <option value="SCB">Siam Commercial Bank</option>
                    <option value="BAY">Bank of Ayudhya</option>
                    </select> *@
                </div>
                <div class="form-group">
                    @* @Html.DropDownListFor(x => Model.BankStatementGroupCodeList, new SelectList(Model.BankStatementGroupCodeList, "DataValueKey", "DataDisplay"), htmlAttributes: new { @class = "form-control select2", id = "fileTypeCode"}) *@
                    @* <select id="fileTypeCode" class="form-control select2" style="width: 100%;">
                    <option selected="selected" value="MT">MT940</option>
                    <option value="CA">C/A</option>
                    <option value="CBS">CBS</option>
                    <option value="PG">PG</option>
                    </select> *@
                </div>
            @* <!-- Calendar -->
            <div class="box box-solid bg-blue-gradient">
            <div class="box-header">
                <i class="fa fa-calendar"></i>

                <h3 class="box-title">Calendar</h3>
                <!-- tools box -->
                <div class="pull-right box-tools">
                <!-- button with a dropdown -->
                <div class="btn-group">
                    <button type="button" class="btn btn-success btn-sm dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-bars"></i></button>
                    <ul class="dropdown-menu pull-right" role="menu">
                    <li><a href="#">Add new event</a></li>
                    <li><a href="#">Clear events</a></li>
                    <li class="divider"></li>
                    <li><a href="#">View calendar</a></li>
                    </ul>
                </div>
                <button type="button" class="btn btn-info btn-sm" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-success btn-sm" data-widget="remove"><i class="fa fa-times"></i>
                </button>
                </div>
                <!-- /. tools -->
            </div>
            <!-- /.box-header -->
            <div class="box-body no-padding">
                <!--The calendar -->
                <div id="calendar" style="width: 100%"></div>
            </div>
            <!-- /.box-body -->
            </div>
            <!-- /.box --> *@

            @* <!-- Info Boxes Style 2 -->
            <div class="info-box bg-yellow">
            <span class="info-box-icon"><img src="~/dist/img/bay_icon.png" class="img-rounded" alt="Bank of Ayudhya"></span>

            <div class="info-box-content">
                <span class="info-box-text">Bank of Ayudhya</span>
                <span class="info-box-number">5,200</span>
                

                <div class="progress">
                <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    <!-- 0% Increase in 30 Days -->

                    <div class="col-lg-3"><label><input type="checkbox" value="bay-mt940" onclick="genUploadPanel(this.value);"> MT940</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="bay-ca" onclick="genUploadPanel(this.value);"> C/A</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="bay-cbs" onclick="genUploadPanel(this.value);"> CBS</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="bay-pg" onclick="genUploadPanel(this.value);"> PG</label></div>
                </span>
            </div>
            <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
            <div class="info-box bg-green">
            <span class="info-box-icon"><img src="~/dist/img/kbank_icon.png" class="img-rounded" alt="Kasikorn Bank"></span>

            <div class="info-box-content">
                <span class="info-box-text">Kasikorn Bank</span>
                <span class="info-box-number">92,050</span>

                <div class="progress">
                <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    <!-- 20% Increase in 30 Days -->
                    <div class="col-lg-3"><label><input type="checkbox" value="kbank-mt940" onclick="genUploadPanel(this.value);"> MT940</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="kbank-ca" onclick="genUploadPanel(this.value);"> C/A</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="kbank-cbs" onclick="genUploadPanel(this.value);"> CBS</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="kbank-pg" onclick="genUploadPanel(this.value);"> PG</label></div>
                    </span>
            </div>
            <!-- /.info-box-content -->
            </div>
            <!-- /.info-box --> *@

        </div>
        <!-- /.col -->
        <!-- right col -->
        <div class="col-sm-4">
            @* <!-- Info Boxes Style 2 -->
            <div class="info-box bg-purple">
            <span class="info-box-icon"><img src="~/dist/img/scb_icon.png" class="img-rounded" alt="Siam Commercial Bank"></span>

            <div class="info-box-content">
                <span class="info-box-text">Siam Commercial Bank</span>
                <span class="info-box-number">114,381</span>

                <div class="progress">
                <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    <!-- 70% Increase in 30 Days -->
                    <div class="col-lg-3"><label><input type="checkbox" value="scb-mt940" onclick="genUploadPanel(this.value);"> MT940</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="scb-ca" onclick="genUploadPanel(this.value);"> C/A</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="scb-cbs" onclick="genUploadPanel(this.value);"> CBS</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" value="scb-pg" onclick="genUploadPanel(this.value);"> PG</label></div>
                    </span>
            </div>
            <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->
            <div class="info-box bg-blue">
            <span class="info-box-icon"><img src="~/dist/img/bbl_icon.png" class="img-rounded" alt="Bangkok Bank"></span>

            <div class="info-box-content" >
                <span class="info-box-text">Bangkok Bank</span>
                <span class="info-box-number">163,921</span>

                <div class="progress">
                <div class="progress-bar" style="width: 100%"></div>
                </div>
                <span class="progress-description">
                    <!-- 40% Increase in 30 Days -->
                    <div class="col-lg-3"><label><input type="checkbox" class="minimal-blue" value="bbl-mt940" onclick="genUploadPanel(this.value);"> MT940</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" class="minimal-blue" value="bbl-ca" onclick="genUploadPanel(this.value);"> C/A</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" class="minimal-blue" value="bbl-cbs" onclick="genUploadPanel(this.value);"> CBS</label></div>
                    <div class="col-lg-3"><label><input type="checkbox" class="minimal-blue" value="bbl-pg" onclick="genUploadPanel(this.value);"> PG</label></div>
                    </span>
            </div>
            <!-- /.info-box-content -->
            </div>
            <!-- /.info-box -->*@

        </div> 
        <!-- /.col -->
    </div>
    <!-- /.row (main row) -->
    <!-- row upload content -->
    <div class="form-group row">
        <div class="col-lg-4"></div>
        <div class="col-lg-4">
            <div class="jumbotron" data-bind="dropUpload: filesuploaded">
            <h3>Drop Area</h3>
            <p >
                <b>Information:</b>

                You can drag and drop files here or double click on the area to upload your files.
                
            </p>
            @*<input type="file" class="hidden" />*@
            </div>

            <div>
                <b>List Of files</b>
                <ul class="list-group" data-bind="foreach:filesuploaded">
                    <li class="list-group-item">
                            <b class="" data-bind="text:name"></b>
                            <i class="glyphicon glyphicon-trash pull-right" style="cursor:pointer" data-bind="click:$parent.deleteSelectedFile"></i>
                        @* <div class="progress"> *@
                            <div id="progress" class="progress-bar progress-bar-primary progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                            <span class="sr-only">0% Complete (success)</span>
                            </div>
                        @* </div> *@
                    </li>
                </ul>
            </div>

            <div>
                <button class="btn btn-primary" data-bind="click:save"><i class="glyphicon glyphicon-upload" style="padding-right:10px"></i>Upload</button>
            </div>
@* <div class="progress progress-info progress-striped">
                            <div class="progress-bar" data-bind="style: { width: uploadPercentage }"></div>
                        </div> *@
            @* <div class="progress">
                <div id="progress" class="progress-bar progress-bar-primary progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                <span class="sr-only">0% Complete (success)</span>
                </div>
            </div> *@
        </div>
        @* <div class="col-lg-4">
            <form id="form" name="form" action="/Import/UploadFiles" enctype="multipart/form-data" method="post">
            <div class="buttons">
                <div class="upload-button">
                <div class="label">Click me!</div>
                <input id="files" name="files" type="file" accept=".zip, .dat, .txt" size="1" multiple onchange="uploadFiles('files');" />
                </div>
            </div>
            </form>
        </div> *@
    </div>
    <!-- /. row upload content -->
    <div class="col-lg-4"></div>
</section>
<!-- /.content -->

<!-- jQuery 3 -->
@* <script src="bower_components/jquery/dist/jquery.min.js"></script> *@
<!-- jQuery UI 1.11.4 -->
@* <script src="bower_components/jquery-ui/jquery-ui.min.js"></script> *@
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  //$.widget.bridge('uibutton', $.ui.button);
</script>
<!-- Bootstrap 3.3.7 -->
@* <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script> *@
<!-- Morris.js charts -->
@* <script src="bower_components/raphael/raphael.min.js"></script>
<script src="bower_components/morris.js/morris.min.js"></script> *@
<!-- Sparkline -->
@* <script src="bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script> *@
<!-- jvectormap -->
@* <script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script> *@
@* <script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script> *@
<!-- jQuery Knob Chart -->
@* <script src="bower_components/jquery-knob/dist/jquery.knob.min.js"></script> *@
<!-- daterangepicker -->
@* <script src="bower_components/moment/min/moment.min.js"></script> *@
@* <script src="bower_components/bootstrap-daterangepicker/daterangepicker.js"></script> *@
<!-- datepicker -->
@* <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script> *@
<!-- Bootstrap WYSIHTML5 -->
@* <script src="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script> *@
<!-- Slimscroll -->
@* <script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script> *@
<!-- FastClick -->
@* <script src="bower_components/fastclick/lib/fastclick.js"></script> *@
<!-- AdminLTE App -->
@* <script src="dist/js/adminlte.min.js"></script> *@
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
@* <script src="dist/js/pages/dashboard.js"></script> *@
<!-- AdminLTE for demo purposes -->
@* <script src="dist/js/demo.js"></script> *@
    
    <script src="~/js/index-vm.js"></script>
    
<script>
    //$('[data-mask]').inputmask();

    $('#dtPickerUpload').datepicker({
        autoclose: true,
        minViewMode: 1,
        format: 'M - yyyy',
    }).on('changeDate', function(selected){
      // startDate = new Date(selected.date.valueOf());
      // startDate.setDate(startDate.getDate(new Date(selected.date.valueOf())));
      // $('.to').datepicker('setStartDate', startDate);
    }); 

    $(document).ready(function(){
        $('#dtPickerUpload').datepicker('setDate', new Date());
    });

    $('#calendar').datepicker({minViewMode: 1});

    $(document).ready(function(){
        $('#calendar').datepicker('setDate', new Date());
    });

    function genUploadPanel(chkValue){
        console.log(chkValue);
    }

    function uploadFiles(inputId) {
        var input = document.getElementById(inputId);
        var files = input.files;
        var formData = new FormData();

        for (var i = 0; i != files.length; i++) {
            console.log(files[i]);
            formData.append("files", files[i]);
        }

        $.ajax(
            {
            url: "/Import/UploadFiles",
            data: formData,
            processData: false,
            contentType: false,
            type: "POST",
            success: function (data) {
                alert("Files Uploaded!");
            }
            }
        );
    }
    

//   //iCheck for checkbox and radio inputs
//   $('input[type="checkbox"].minimal-yellow, input[type="radio"].minimal-yellow').iCheck({
//     checkboxClass: 'icheckbox_minimal-yellow',
//     radioClass   : 'iradio_minimal-yellow'
//   })
//   //iCheck for checkbox and radio inputs
//   $('input[type="checkbox"].minimal-blue, input[type="radio"].minimal-blue').iCheck({
//     checkboxClass: 'icheckbox_minimal-blue',
//     radioClass   : 'iradio_minimal-blue'
//   })
//   //Red color scheme for iCheck
//   $('input[type="checkbox"].minimal-purple, input[type="radio"].minimal-purple').iCheck({
//     checkboxClass: 'icheckbox_minimal-purple',
//     radioClass   : 'iradio_minimal-purple'
//   })
//   //Flat red color scheme for iCheck
//   $('input[type="checkbox"].minimal-green, input[type="radio"].minimal-green').iCheck({
//     checkboxClass: 'icheckbox_minimal-green',
//     radioClass   : 'iradio_minimal-green'
//   })
</script>